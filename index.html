<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TA07 - G5 - Calculadora de Ahorro Energético MDS</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body>
    <header>
        <div class="logo-container">
            <h1>Calculadora de Ahorro Energético</h1>
        </div>
        <nav>
            <ul>
                <li><a href="#dashboard">Panel</a></li>
                <li><a href="#calculadora">Calculadora</a></li>
                <li><a href="#reduccio">Propuestas de Reducción</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section id="dashboard" class="section">
            <h2>Panel de Consumo</h2>
            <div class="dashboard-controls">
                <div class="date-selector">
                    <label for="date-range">Selecciona un periodo:</label>
                    <select id="date-range">
                        <option value="month">Último mes</option>
                        <option value="trimester">Último trimestre</option>
                        <option value="year" selected>Último año</option>
                        <option value="course">Curso escolar (Set-Jun)</option>
                    </select>
                </div>
                <button id="export-pdf">Exportar a PDF</button>
            </div>
            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <h3>Consumo Eléctrico</h3>
                    <div class="chart-container">
                        <canvas id="electricChart"></canvas>
                    </div>
                    <div class="stats">
                        <p>Consumo total: <span id="electric-total"></span> kWh</p>
                        <p>Media mensual: <span id="electric-avg"></span> kWh</p>
                    </div>
                </div>
                <div class="dashboard-card">
                    <h3>Consumo de Agua</h3>
                    <div class="chart-container">
                        <canvas id="waterChart"></canvas>
                    </div>
                    <div class="stats">
                        <p>Consumo total: <span id="water-total"></span> m³</p>
                        <p>Media mensual: <span id="water-avg"></span> m³</p>
                    </div>
                </div>
                <div class="dashboard-card">
                    <h3>Consumibles de Oficina</h3>
                    <div class="chart-container">
                        <canvas id="officeChart"></canvas>
                    </div>
                    <div class="stats">
                        <p>Gasto total: <span id="office-total"></span> €</p>
                        <p>Distribución: <span id="office-distribution"></span></p>
                    </div>
                </div>
                <div class="dashboard-card">
                    <h3>Productos de Limpieza</h3>
                    <div class="chart-container">
                        <canvas id="cleaningChart"></canvas>
                    </div>
                    <div class="stats">
                        <p>Gasto total: <span id="cleaning-total"></span> €</p>
                        <p>Tendencia: <span id="cleaning-trend"></span></p>
                    </div>
                </div>
            </div>
        </section>

        <section id="calculadora" class="section">
            <h2>Calculadora de Predicciones</h2>
            <div class="calculator-container">
                <div class="calculator-controls">
                    <div class="period-selector">
                        <label for="prediction-period">Periodo de predicción:</label>
                        <select id="prediction-period">
                            <option value="nextYear">Próximo año</option>
                            <option value="nextCourse">Próximo curso (Set-Jun)</option>
                            <option value="custom">Personalizado</option>
                        </select>
                    </div>
                    <div class="custom-period" id="custom-period-container" style="display: none;">
                        <label for="start-date">Fecha de inicio:</label>
                        <input type="date" id="start-date">
                        <label for="end-date">Fecha de fin:</label>
                        <input type="date" id="end-date">
                    </div>
                    <button id="calculate-btn">Calcular</button>
                </div>
                <div class="results-container">
                    <div class="result-card">
                        <h3>Consumo Eléctrico</h3>
                        <p class="result" id="electric-prediction"></p>
                        <p class="comparison">Comparación con período actual:<span id="electric-comparison"></span></p>
                    </div>
                    <div class="result-card">
                        <h3>Consumo de Agua</h3>
                        <p class="result" id="water-prediction"></p>
                        <p class="comparison">Comparación con período actual:<span id="water-comparison"></span></p>
                    </div>
                    <div class="result-card">
                        <h3>Consumibles de Oficina</h3>
                        <p class="result" id="office-prediction"></p>
                        <p class="comparison">Comparación con período actual:<span id="office-comparison"></span></p>
                    </div>
                    <div class="result-card">
                        <h3>Productos de Limpieza</h3>
                        <p class="result" id="cleaning-prediction"></p>
                        <p class="comparison">Comparación con período actual:<span id="cleaning-comparison"></span></p>
                    </div>
                </div>
            </div>
        </section>

        <section id="reduccio" class="section">
            <h2>Propuestas de Reducción de Consumo</h2>
            <div class="reduction-grid">
                <div class="reduction-card">
                    <h3>Reducción del Consumo Eléctrico</h3>
                    <ul>
                        <li>Instalación de sensores de movimiento para iluminación automática</li>
                        <li>Sustitución de luminarias por modelos LED de alta eficiencia</li>
                        <li>Implementació d'un sistema de gestió energètica per a monitoritzar i optimitzar el consum</li>
                        <li>Concienciación de los usuarios sobre el apagado de equipos al finalizar el uso</li>
                    </ul>
                    <div class="savings-estimate">
                        <p>Ahorro potencial:<span id="electric-savings"></span> kWh/año</p>
                    </div>
                </div>
                <div class="reduction-card">
                    <h3>Reducción del Consumo de Agua</h3>
                    <ul>
                        <li>Instalación de aireadores en grifos</li>
                        <li>Sistemas de doble descarga en cisternas</li>
                        <li>Detección y reparación de fugas</li>
                        <li>Recogida de agua de lluvia para riego</li>
                    </ul>
                    <div class="savings-estimate">
                        <p>Ahorro potencial:<span id="water-savings"></span> m³/año</p>
                    </div>
                </div>
                <div class="reduction-card">
                    <h3>Reducción de Consumibles de Oficina</h3>
                    <ul>
                        <li>Implementación de política de "papel cero" fomentando el uso de documentos digitales</li>
                        <li>Configuración de impresoras para impresión a doble cara por defecto</li>
                        <li>Reutilización de materiales cuando sea posible</li>
                        <li>Compra centralizada de material para evitar compras innecesarias</li>
                    </ul>
                    <div class="savings-estimate">
                        <p>Ahorro potencial:<span id="office-savings"></span> €/año</p>
                    </div>
                </div>
                <div class="reduction-card">
                    <h3>Reducción de Productos de Limpieza</h3>
                    <ul>
                        <li>Uso de productos concentrados que requieren menor cantidad</li>
                        <li>Implementació de sistemes de dosificació automàtica</li>
                        <li>Formación del personal de limpieza en uso eficiente de productos</li>
                        <li>Uso de productos ecológicos multiuso</li>
                    </ul>
                    <div class="savings-estimate">
                        <p>Ahorro potencial: <span id="cleaning-savings"></span> €/año</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>© 2025 - Calculadora de Ahorro Energético - Grupo 5</p>
    </footer>

    <script src="scripts/main.js"></script>
</body>
</html>