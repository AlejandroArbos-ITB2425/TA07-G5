<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TA07 - G5 - Calculadora de Ahorro Energético MDS</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body>
    <header>
        <div class="logo-container">
            <h1>Calculadora de Ahorro de energia</h1>
        </div>
        <nav>
            <ul>
                <li><a href="./estrategias.html">Estrategias de Ahorro Energético</a></li>
            </ul>
        </nav>
    </header>

    <main> 
        <section id="calculadora" class="section">
            <h2>Simulador de Consumo</h2>
            <p>Utiliza nuestra calculadora para predecir el consumo futuro y optimizar el ahorro.</p>
            <div class="calculator-container">
                <div class="calculator-controls">
                    <div class="period-selector">
                        <label for="prediction-period">Periodo de predicción:</label>
                        <select id="prediction-period">
                            <option value="nextYear">Próximo año</option>
                            <option value="nextCourse">Próximo curso (Set-Jun)</option>
                            <option value="custom">Personalizado</option>
                        </select>
                    </div>
                    <div class="custom-period" id="custom-period-container" style="display: none;">
                        <label for="start-date">Fecha de inicio:</label>
                        <input type="date" id="start-date">
                        <label for="end-date">Fecha de fin:</label>
                        <input type="date" id="end-date">
                    </div>
                    <button id="calculate-btn">Calcular</button>
                </div>
                <div class="results-container">
                    <div class="result-card">
                        <h3>Consumo Eléctrico</h3>
                        <p class="result" id="electric-prediction"></p>
                        <p class="comparison">Comparación con período actual:<span id="electric-comparison"></span></p>
                    </div>
                    <div class="result-card">
                        <h3>Consumo de Agua</h3>
                        <p class="result" id="water-prediction"></p>
                        <p class="comparison">Comparación con período actual:<span id="water-comparison"></span></p>
                    </div>
                    <div class="result-card">
                        <h3>Consumibles de Oficina</h3>
                        <p class="result" id="office-prediction"></p>
                        <p class="comparison">Comparación con período actual:<span id="office-comparison"></span></p>
                    </div>
                    <div class="result-card">
                        <h3>Productos de Limpieza</h3>
                        <p class="result" id="cleaning-prediction"></p>
                        <p class="comparison">Comparación con período actual:<span id="cleaning-comparison"></span></p>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="dashboard class="section">
            <h2>Monitor de Energía</h2>
            <p>Consulta datos detallados sobre el uso de electricidad, agua y otros recursos.</p>
            <div class="dashboard-controls">
                <div class="date-selector">
                    <label for="date-range">Selecciona un periodo:</label>
                    <select id="date-range">
                        <option value="month">Último mes</option>
                        <option value="trimester">Último trimestre</option>
                        <option value="year" selected>Último año</option>
                        <option value="course">Curso escolar (Set-Jun)</option>
                    </select>
                </div>
                <button id="export-pdf">Exportar a PDF</button>
            </div>
            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <h3>Consumo Eléctrico</h3>
                    <div class="chart-container">
                        <canvas id="electricChart"></canvas>
                    </div>
                    <div class="stats">
                        <p>Consumo total: <span id="electric-total"></span> kWh</p>
                        <p>Media mensual: <span id="electric-avg"></span> kWh</p>
                    </div>
                </div>
                <div class="dashboard-card">
                    <h3>Consumo de Agua</h3>
                    <div class="chart-container">
                        <canvas id="waterChart"></canvas>
                    </div>
                    <div class="stats">
                        <p>Consumo total: <span id="water-total"></span> m³</p>
                        <p>Media mensual: <span id="water-avg"></span> m³</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>© 2025 - Calculadora Inteligente de Ahorro - Grupo 5</p>
    </footer>

    <script src="scripts/main.js"></script>
</body>
</html>
